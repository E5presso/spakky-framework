[project]
name = "spakky-framework"
version = "0.1.0"
description = "Spakky framework mono-repo"
readme = "README.md"
requires-python = ">=3.11"
license = { text = "MIT" }
authors = [{ name = "Spakky", email = "sejong418@icloud.com" }]
dependencies = []

[dependency-groups]
dev = [
  "commitizen>=4.1.0",
  "pre-commit>=4.3.0",
  "pyrefly>=0.39.4",
  "pytest>=8.4.2",
  "pytest-asyncio>=1.2.0",
  "pytest-cov>=7.0.0",
  "pytest-xdist>=3.8.0",
  "ruff>=0.14.2",
  "toml>=0.10.2",
]

[tool.commitizen]
name = "cz_conventional_commits"
# Monorepo versioning: Each package has its own commitizen config.
# Use scope in commit messages to indicate which package:
#   feat(core): ...     → spakky
#   fix(fastapi): ...   → spakky-fastapi
#   feat(rabbitmq): ... → spakky-rabbitmq
#   fix(security): ...  → spakky-security
#   feat(typer): ...    → spakky-typer
#
# To bump a specific package:
#   cd spakky && uv run cz bump
#   cd plugins/spakky-fastapi && uv run cz bump

[tool.uv.workspace]
members = [
  "spakky",
  "plugins/spakky-fastapi",
  "plugins/spakky-rabbitmq",
  "plugins/spakky-security",
  "plugins/spakky-typer",
]

[tool.uv.sources]
spakky = { workspace = true }
spakky-fastapi = { workspace = true }
spakky-rabbitmq = { workspace = true }
spakky-typer = { workspace = true }
spakky-security = { workspace = true }
